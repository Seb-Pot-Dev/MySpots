{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }} {# Include the parent stylesheets first #}

    <!-- Additional stylesheets for this specific template -->
    <link rel="stylesheet" href="{{ asset('css/homepage_nop.css') }}">
{% endblock %}

{% block body %}
<!-- Main HOMEPAGE  -->
<main class="homepage">
<!-- Section HERO (VIDEO) -->
  <div class="hero-main">
    <div class="hero-video-container">

    <!-- Premi√®re vid√©o √† √™tre lue -->
      <video autoplay muted id="myVideo" style="width: 100%; height: 100%;"></video>


      <div class="pause-video-container">

        <!-- Button pour mettre play/pause sur la video avec JAVASCRIPT (fonction: "pauseVideo()" ) -->
          <button id="pauseVideoBtn" onclick="pauseVideo()">Pause</button>
      </div>
      


       
<div class="flex item-center justify-center">
  <div
    class="mx-auto max-w-screen-xl px-4 py-32 lg:flex lg:h-screen lg:items-center absolute "
  >
    <div class="mx-auto max-w-4xl text-center home-text-shadow">
      <h1 class="text-3xl font-extrabold sm:text-5xl" style="1px 1px 0px #ffffff75">
        {% if app.user %}
          Content de te retrouver
        <strong class="font-extrabold text-red-700 sm:block">
        {{ app.user.pseudo }}
        </strong>
          Alors on spotte quoi aujourd'hui ? üòé
        {% else %}
        <p class=" text-red-700 drop-shadow-2xl">
          Bienvenu sur SkateSpots.
        </p>
        <strong class="font-extrabold sm:block">
          Pr√™t a d√©couvrir les meilleurs spots de la ville ? 
        </strong>
          
        {% endif %}
      </h1>

      {# <p class="mt-4 sm:text-xl/relaxed">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nesciunt illo
        tenetur fuga ducimus numquam ea!
      </p> #}
          

      <div class="mt-8 flex flex-wrap justify-center gap-4">
      {% if app.user %}
        <a
          class="block w-full rounded bg-red-600 px-12 py-3 text-sm font-medium text-white shadow hover:bg-red-700  hover:text-white focus:outline-none focus:ring active:bg-red-500 sm:w-auto"
         href="{{ path('app_spot') }}"
        >
          Voir la carte
        </a>
        <a
          class="block w-full rounded bg-black/50 px-12 py-3 text-sm font-medium text-white/50 shadow hover:text-white hover:bg-black/75 focus:outline-none focus:ring active:bg-black sm:w-auto"
          href="/about"
        >
          Learn More (üöß)</a>
        </a>
      {% else %}
      
        <a
          class="block w-full rounded bg-red-600 px-12 py-3 text-sm font-medium text-white shadow hover:bg-red-700  hover:text-white focus:outline-none focus:ring active:bg-red-500 sm:w-auto"
         href="{{ path('app_spot') }}"
        >
          Voir la carte
        </a>

        <a
          class="block w-full rounded bg-black/50 px-12 py-3 text-sm font-medium text-white/50 shadow hover:text-white hover:bg-black/75 focus:outline-none focus:ring active:bg-black sm:w-auto"
          href="{{ path('app_register') }}"
        >
          Devenir membre (gratuit!)
        </a>
        <a
          class="block w-full rounded bg-black/50 px-12 py-3 text-sm font-medium text-white/50 shadow hover:text-white hover:bg-black/75 focus:outline-none focus:ring active:bg-black sm:w-auto"
          href="/about"
        >
          Learn More (üöß)
        </a>
      {% endif %}
      </div>
    </div>
  </div>
</div>
    </div>
  </div>

  <!-- Section STATS -->
  <div class="home-content-not-hero">
    <div class="py-24 sm:py-32">
      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <dl class="grid grid-cols-1 gap-x-8 gap-y-16 text-center lg:grid-cols-3">
          <div class="mx-auto flex max-w-xs flex-col gap-y-4">
            <dt class="text-base leading-7 text-gray-600">Un module pr√©f√©r√© ? Les lieux partag√©s sur SkateSpots sont riches et vari√©s.</dt>
            <dd class="order-first text-3xl font-semibold tracking-tight text-gray-900 sm:text-5xl">{{ modules|length }} modules diff√©rents</dd>
          </div>
          <div class="mx-auto flex max-w-xs flex-col gap-y-4">
            <dt class="text-base leading-7 text-gray-600">Nombre de spots r√©f√©renc√©s √† Strasbourg.</dt>
            <dd class="order-first text-3xl font-semibold tracking-tight text-gray-900 sm:text-5xl">{{ spotsList|length }} spots uniques</dd>
          </div>
          <div class="mx-auto flex max-w-xs flex-col gap-y-4">
            <dt class="text-base leading-7 text-gray-600">La communaut√© SkateSpots ne cesse de s'agrandir.</dt>
            <dd class="order-first text-3xl font-semibold tracking-tight text-gray-900 sm:text-5xl">{{ users|length }} utilisateurs r√©guliers</dd>
          </div>
        </dl>
      </div>
    </div>
  </div>

</main>
<script>
    // D√©finition du tableau de vid√©os
    const videos = [
      "/videos/production_id_4824358.mp4",
      "/videos/pexels-koolshooters-9724563.mp4",
      "/videos/pexels-allan-mas-5362598.mp4",
      "/videos/street-video-1.mp4"
      // Ajoutez ici les chemins vers les vid√©os suivantes...
    ];

    // Obtenir un index de vid√©o al√©atoire pour commencer
    let currentVideoIndex = Math.floor(Math.random() * videos.length);

    // Obtenez le lecteur vid√©o
    const videoPlayer = document.getElementById("myVideo");

    // Fonction pour lire la vid√©o suivante ou recommencer la boucle
    function playNextVideo() {
      // Changer l'index de la vid√©o pour passer √† la suivante
      currentVideoIndex = (currentVideoIndex + 1) % videos.length;
      const nextVideoSrc = videos[currentVideoIndex];

      // Mettre √† jour la source du lecteur vid√©o pour la prochaine vid√©o
      videoPlayer.src = nextVideoSrc;

      // Lorsque la vid√©o suivante est termin√©e, jouer la suivante
      videoPlayer.addEventListener("ended", playNextVideo);
    }

    // Lancer la premi√®re vid√©o al√©atoire
    videoPlayer.src = videos[currentVideoIndex];
    videoPlayer.play();

    // √âv√©nement pour passer √† la vid√©o suivante √† la fin de la premi√®re vid√©o
    videoPlayer.addEventListener("ended", playNextVideo);
  </script>
{% endblock %}
